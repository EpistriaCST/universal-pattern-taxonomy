{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Universal Pattern Taxonomy - Pattern Record",
  "type": "object",
  "required": ["id", "name", "primary_domain", "level", "description", "coordinates"],
  "properties": {
    "id": { "type": "string", "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$" },
    "name": { "type": "string", "minLength": 3 },
    "primary_domain": { "type": "string", "enum": ["P", "B", "C", "S"] },
    "level": { "type": "string", "enum": ["CN", "CT", "FP", "DP", "IP"] },
    "description": { "type": "string", "minLength": 20 },
    "coordinates": {
      "type": "object",
      "required": ["REC_count", "SRO", "TMP", "CPL", "GEN", "CAU", "NRG", "DET", "REV"],
      "properties": {
        "REC_count": { "oneOf": [{ "type": "integer", "minimum": 1 }, { "type": "string", "enum": ["inf"] }] },
        "SRO": { "type": "integer", "minimum": 0, "maximum": 100 },
        "TMP": { "type": "integer", "minimum": 0, "maximum": 100 },
        "CPL": { "type": "integer", "minimum": 0, "maximum": 100 },
        "GEN": { "type": "integer", "minimum": 0, "maximum": 100 },
        "CAU": { "type": "integer", "minimum": 0, "maximum": 100 },
        "NRG": { "type": "integer", "minimum": 0, "maximum": 100 },
        "DET": { "type": "integer", "minimum": 0, "maximum": 100 },
        "REV": { "type": "integer", "minimum": 0, "maximum": 100 }
      },
      "additionalProperties": false
    },
    "anchors": { "type": "array", "items": { "type": "string" } },
    "mechanism": { "type": "string" },
    "translation_notes": { "type": "string" },
    "sources": { "type": "array", "items": { "type": "string" } },
    "confidence": { "type": "number", "minimum": 0.0, "maximum": 1.0 },
    "assessor": { "type": "string" },
    "version": { "type": "string" },
    "last_updated": { "type": "string", "pattern": "^\\d{4}-\\d{2}-\\d{2}$" },
    "constraint_flags": { "type": "array", "items": { "type": "string" } },
    "impossibility_index": { "type": "number", "minimum": 0 },
    "notation_primary": { "type": "string" },
    "notation_full": { "type": "string" }
  },
  "additionalProperties": false
}

